<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>HW: It's Giphy time</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <!-- Giphy API key: dSUbO9QtEKXZOGiknY1zHY00lnCU27i5 -->

  <img src="https://media1.giphy.com/media/3o85xkQpyMlnBkpB9C/200_s.gif"
    data-still="https://media1.giphy.com/media/3o85xkQpyMlnBkpB9C/200_s.gif"
    data-animate="https://media1.giphy.com/media/3o85xkQpyMlnBkpB9C/200.gif" data-state="still" class="gif">
  <img src="https://media2.giphy.com/media/8rFQp4kHXJ0gU/200_s.gif"
    data-still="https://media2.giphy.com/media/8rFQp4kHXJ0gU/200_s.gif"
    data-animate="https://media2.giphy.com/media/8rFQp4kHXJ0gU/200.gif" data-state="still" class="gif">
  <img src="https://media3.giphy.com/media/W6LbnBigDe4ZG/200_s.gif"
    data-still="https://media3.giphy.com/media/W6LbnBigDe4ZG/200_s.gif"
    data-animate="https://media3.giphy.com/media/W6LbnBigDe4ZG/200.gif" data-state="still" class="gif">


  <div id="buttons">
    <button data-person="That's+So+Raven">
      That's So Raven
    </button>
    <button data-person="Kim+Possible">
      Kim Possible
    </button>
    <button data-person="The+Suite+Life+of+Zack+&+Cody">
      The Suite Life of Zack & Cody
    </button>
    <button data-person="Wizards+of+Waverly+Place">
      Wizards of Waverly Place
    </button>
    <button data-person="Phineas+and+Ferb">
      Phineas and Ferb
    </button>
    <button data-person="Hannah+Montana">
      Hannah Montana
    </button>
    <button data-person="Even+Stevens">
      Even Stevens
    </button>
    <button data-person="Phil+of+the+Future">
      Phil of the Future
    </button>
    <button data-person="Sonny+with+a+Chance">
      Sonny with a Chance
    </button>
    <button data-person="Sonny+with+a+Chance">
      Sonny with a Chance
    </button>
    <button data-person="Cory+in+the+House">
      Cory in the House
    </button>
    <button data-person="Recess">
      Recess
    </button>
    <button data-person="Brandy+&+Mr.+Whiskers">
      Brandy & Mr. Whiskers
    </button>
  </div>

  <div id="gifs-appear-here"></div>




    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <!-- <script src="code.js"></script> -->
    <script type="text/javascript">

      //onClick for adding the gifs with the button click
      $("button").on("click", function () {
        var person = $(this).attr("data-person");
        var queryURL = "https://api.giphy.com/v1/gifs/search?q=" +
          person + "&api_key=dSUbO9QtEKXZOGiknY1zHY00lnCU27i5&limit=10&rating=g&rating=pg";

        $.ajax({
          url: queryURL,
          method: "GET"
        })
          .then(function (response) {
            var results = response.data;

            for (var i = 0; i < results.length; i++) {
              var gifDiv = $("<div>");

              var rating = results[i].rating;

              var p = $("<p>").text("Rating: " + rating);

              var personImage = $("<img>");
              personImage.attr("src", results[i].images.original_still.url);
              personImage.attr("data-state", "still");
              personImage.attr("data-still", results[i].images.original_still.url);
              personImage.attr("data-animate", results[i].images.original.url);
              personImage.attr("class", "gif");

              gifDiv.prepend(p);
              gifDiv.prepend(personImage);
              console.log(personImage);

              $("#gifs-appear-here").prepend(gifDiv);
            }
          });
      });



      //onClick for still -> animate
      $(".gif").on("click", function () {
        var state = $(this).attr("data-state")
        console.log(state);

        if (state === "still") {
          $(this).attr("src", $(this).attr("data-animate"));
          $(this).attr("data-state", "animate");
        } else {
          $(this).attr("src", $(this).attr("data-still"));
          $(this).attr("data-state", "still");
        }
      });
    </script>
</body>

</html>